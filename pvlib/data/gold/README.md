Gold Datasets
============

This directory contains gold datasets and python modules for gauging various
algorithms, enabling verification and benchmarking.

## Single-Diode Model (SDM)

### Gold Dataset Creation

The I-V curve gold dataset for the SDM is generated by runnning the following
python script in this directory

```console
$ python sdm.py
```

which will overwrite the existing `sdm.json` and `sdm.csv` files. `sdm.json` is
the lossless, machine-interoperable format, and `sdm.csv` is formatted to be
human-readable and to be easily viewed in a spreadsheet program.

NOTES:
- You will need to `pip install pyinterval` in order to generate gold
datasets, because interval arithmetic is used to ensure computational accuracy.
- I-V curves are generated over a range of device types and operating
conditions.
- See the `sdm.py` and `test_sdm.py` source code for details/examples.

### Gauging SDM Functions Against a Gold Dataset

Using an existing `sdm.json` gold dataset, you can guage various `i_from_v()`
and `v_from_i()` implementations for accuracy/performance using a python script
such as

```python
import os
import pprint

from pvlib import pvsystem
from pvlib.data.gold import sdm

json_path = os.path.join(os.path.dirname(sdm.__file__), "sdm.json")
gold_dataset = sdm.load_gold_dataset(json_path=json_path)
pprint.pprint(sdm.gauge_functions(gold_dataset, {
        "i_from_v": pvsystem.i_from_v,
        "v_from_i": pvsystem.v_from_i,
    }))
```

NOTES:
- Any functions compatible with the `pvsystem.i_from_v` and `pvsystem.v_from_i`
APIs can be guaged against the gold dataset.
- For each function guaged, the worst computed I-V curve for each device is returned along with performance timing information and statistics for
the ensemble of I-V curve computations for that device (without any
repetitions).
- See the `sdm.py` and `test_sdm.py` source code for details/examples.
