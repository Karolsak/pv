Gold Datasets
============

This directory contains gold datasets and modules for algorithm testing and
benchmarking.

## Single-Diode Model (SDM)

### Gold Dataset creation

The I-V curve gold dataset for the SDM is generated by runnning the following
python script in this directory

```console
$ python sdm.py
```

which will overwrite the existing `sdm.json` and `sdm.csv` files. `sdm.json` is
the lossless, machine-interoperable format, and `sdm.csv` is formatted to be
human-readable and to be easily viewed in a spreadsheet program.

NOTES:
- You will need to `pip install pyinterval` in order to generate gold
datasets, because interval arithmetic is used to ensure computational accuracy.
- I-V curves are generated over a range of device types and operating
conditions.
- See the `sdm.py` and `test_sdm.py` source code for details/examples.

### Benchmarking  SDM Functions

Using an existing `sdm.json` gold dataset, you can test/benchmark various
`i_from_v()` and `v_from_i()` implementations for accuracy/performance using a
python script such as

```python
import os
import pprint

from pvlib import pvsystem
from pvlib.data.gold import sdm

json_rel_path = os.path.join(os.path.dirname(sdm.__file__), "sdm.json")
gold_dataset = sdm.load_gold_dataset(json_rel_path=json_rel_path)
pprint.pprint(sdm.gauge_gold_dataset(gold_dataset, {
        "i_from_v": pvsystem.i_from_v,
        "v_from_i": pvsystem.v_from_i,
    }))
```

NOTES:
- Any functions compatible with the `pvsystem.i_from_v` and `pvsystem.v_from_i`
APIs can be tested/benchmarked against the gold dataset.
- For each function tested/benchmarked, the worst computed I-V curve for each device is returned along with performance timing information and statistics for
the ensemble of I-V curve computations for that device (without any
repetitions).
- See the `sdm.py` and `test_sdm.py` source code for details/examples.
